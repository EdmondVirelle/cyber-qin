# 版本發布說明 — v1.0.0

**發布日期**: 2024-02-13
**里程碑**: 首個穩定版本

---

## 🎉 亮點

**Cyber Qin 賽博琴仙** v1.0.0 標誌著首個穩定版本的發布，為遊戲即時演奏、MIDI 播放與編輯帶來完整功能集，並提供全面的 UI 改進與用戶需求功能。

---

## ✨ 新功能

### 設定對話框
- **集中化配置** (`Ctrl+,`)：在單一介面管理所有應用程式設定
- **MIDI 裝置選擇**：設定偏好的 MIDI 裝置，啟動時自動優先連接
- **持久化偏好設定**：設定自動儲存並在重啟後恢復

### 鍵位映射查看器
- **唯讀映射表**：檢視當前方案的完整 MIDI-鍵盤映射
- **四欄顯示**：MIDI 音符、音符名稱、鍵盤按鍵、修飾鍵
- **從演奏模式存取**：點選「查看映射」按鈕快速參考

### 增強的 MIDI 熱插拔支援
- **自動裝置偵測**：斷線時每 5 秒掃描新增/移除的裝置
- **變更記錄**：即時記錄裝置連接/斷線事件
- **無縫重連**：偵測到偏好裝置時自動連接

### 循環播放模式
- **曲庫循環切換**：在曲庫檢視中啟用循環模式以連續播放
- **編輯器循環切換**：在編曲器中按 `L` 鍵切換編輯時的循環播放
- **金色啟用指示器**：啟用時按鈕顯示金色 (#D4AF37) 背景

### 節拍器倒數
- **可選 4 拍倒數**：播放前可切換節拍器開關
- **視覺化倒數指示器**：螢幕上顯示大型金色數字 (4→3→2→1)
- **編輯器快捷鍵**：在編曲器中按 `M` 鍵切換節拍器
- **預設啟用**：確保順暢切換到遊戲視窗

---

## 🔧 改進

### 程式碼品質
- **598 個測試**：完整測試覆蓋率（較 v0.9.0 增加 3.3 倍）
- **30 個模組**：模組化架構，關注點分離清晰
- **~6,500 行程式碼**：組織良好的程式碼庫，編碼標準一致
- **型別提示**：完整靜態型別檢查，符合 mypy 規範

### 文件
- **更新 README**：完整 v1.0.0 功能說明文件（英文與繁體中文）
- **鍵盤快捷鍵**：所有檢視的完整快捷鍵說明
- **使用流程指南**：為新用戶提供逐步使用說明
- **架構圖表**：為開發者提供清晰的資料流視覺化

### UI/UX
- **賽博墨韻主題**：一致的暗色主題，搭配霓虹青 (#00F0FF) 強調色
- **金色啟用狀態**：新增金色 (#D4AF37) 用於啟用按鈕（循環、節拍器）
- **改進對比度**：更好的文字對比，提升無障礙性
- **可勾選按鈕**：切換狀態的視覺回饋（循環/節拍器）

---

## 🐛 錯誤修正

- **修正 MIDI 裝置選擇**：偏好裝置現在在啟動時正確優先連接
- **修正循環重啟**：循環模式現在正確重設播放位置到開頭
- **修正節拍器計時**：倒數時鐘事件與播放執行緒同步
- **修正設定持久化**：所有設定現在正確儲存與恢復

---

## 📦 技術細節

### 依賴項
- Python 3.11 / 3.12 / 3.13
- PyQt6 6.8.1
- mido 1.3.4
- python-rtmidi 1.5.9
- pytest 8.3.5

### 平台支援
- Windows 10 / 11 (x64)
- 需要系統管理員權限以執行 SendInput

### 建置
- PyInstaller 打包執行檔：`dist/賽博琴仙/` (~95 MB)
- 單資料夾發行版，包含所有依賴項

---

## 🚀 升級指南

### 從 v0.9.x 升級到 v1.0.0

1. **備份資料**：從曲庫匯出任何自訂 MIDI 專案
2. **解除安裝舊版本**：移除舊的執行檔或 Python 安裝
3. **安裝 v1.0.0**：下載並解壓縮新版本
4. **配置設定**：按 `Ctrl+,` 設定偏好的 MIDI 裝置
5. **驗證映射**：點選「查看映射」確認正確的按鍵配置

### 重大變更
- **無**：v1.0.0 完全向後相容 v0.9.x 專案檔案

---

## 🙏 致謝

特別感謝：
- 所有在 v0.9.x 測試期間提供回饋的用戶
- 回報問題並建議改進的貢獻者
- 開源 MIDI 與 PyQt 社群

---

## 📝 已知問題

- **Windows Defender**：可能將執行檔標記為未識別應用程式（點選「更多資訊」→「仍要執行」）
- **輸入法編輯器**：某些輸入法軟體可能干擾按鍵注入（參見 FAQ）
- **高 DPI 顯示器**：UI 縮放在 4K 螢幕上可能不完美（解決方法：將 Windows 縮放設為 150%）

完整問題追蹤，請見：https://github.com/EdmondVirelle/cyber-qin/issues

---

## 🔮 未來計劃

v1.1.0 規劃功能：
- 雲端儲存/同步 MIDI 曲庫
- MIDI 輸入監控圖表
- 自訂鍵位映射編輯器
- 多語言本地化改進

---

**完整變更記錄**: https://github.com/EdmondVirelle/cyber-qin/compare/v0.9.2...v1.0.0
**下載**: https://github.com/EdmondVirelle/cyber-qin/releases/tag/v1.0.0

