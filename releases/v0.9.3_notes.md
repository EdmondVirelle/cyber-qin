# 賽博琴仙 v0.9.3 Release Notes

📅 發布日期：2026-02-13
🎹 支援遊戲：燕雲十六聲 (Where Winds Meet) / Final Fantasy XIV
💻 系統需求：Windows 10/11 (64-bit)

---

## 🆕 主要更新 | Major Updates | 主な更新 | 주요 업데이트

### ✅ CI/CD 跨平台測試完整支援
**繁中**：實現 Windows/Linux/macOS 三平台自動化測試，確保軟體品質與穩定性。CI 管道包含程式碼檢查、類型檢查與 589 個單元測試，全面通過。

**English**: Implemented full CI/CD automation with multi-platform testing (Windows/Linux/macOS). The pipeline includes linting, type checking, and 589 unit tests, all passing successfully.

**日本語**: Windows/Linux/macOS 三つのプラットフォームでの自動テストを実現し、ソフトウェアの品質と安定性を確保。CI パイプラインには、コードチェック、型チェック、589 のユニットテストが含まれ、すべて合格。

**한국어**: Windows/Linux/macOS 세 플랫폼에서 자동화 테스트를 구현하여 소프트웨어 품질과 안정성을 보장합니다. CI 파이프라인에는 코드 검사, 타입 검사 및 589개의 단위 테스트가 포함되며 모두 통과했습니다.

### ⚙️ JSON 配置系統整合完成
**繁中**：全面遷移至 JSON 格式配置檔（取代 QSettings），支援跨平台備份與還原。配置檔案位於 `~/.cyber_qin/config.json`。

**English**: Fully migrated to JSON-based configuration system (replacing QSettings), supporting cross-platform backup and restore. Config file located at `~/.cyber_qin/config.json`.

**日本語**: QSettings から JSON 形式の設定ファイルへ完全移行し、クロスプラットフォームのバックアップと復元に対応。設定ファイルは `~/.cyber_qin/config.json` に配置。

**한국어**: QSettings에서 JSON 기반 구성 시스템으로 완전히 마이그레이션하여 크로스 플랫폼 백업 및 복원을 지원합니다. 구성 파일은 `~/.cyber_qin/config.json`에 있습니다.

### 🎨 設定對話框實作
**繁中**：新增圖形化設定介面，支援語言切換、主題選擇、MIDI 裝置設定，並可匯入/匯出設定檔。

**English**: Added graphical settings dialog supporting language switching, theme selection, MIDI device configuration, and config import/export.

**日本語**: グラフィカルな設定画面を追加。言語切替、テーマ選択、MIDI デバイス設定、設定ファイルのインポート/エクスポートに対応。

**한국어**: 언어 전환, 테마 선택, MIDI 장치 설정 및 설정 파일 가져오기/내보내기를 지원하는 그래픽 설정 대화상자를 추가했습니다.

### 🚀 效能優化：NoteRoll 渲染 7.6x 加速
**繁中**：實作二分搜尋視窗裁剪演算法，大幅提升編輯器渲染效能。即使 20,000 個音符仍可維持 60 FPS 流暢度。

**English**: Implemented binary search viewport culling algorithm, significantly improving editor rendering performance. Maintains 60 FPS even with 20,000 notes.

**日本語**: 二分探索によるビューポートカリングアルゴリズムを実装し、エディターのレンダリング性能を大幅向上。20,000 音符でも 60 FPS の滑らかさを維持。

**한국어**: 이진 검색 뷰포트 컬링 알고리즘을 구현하여 편집기 렌더링 성능을 크게 향상시켰습니다. 20,000개의 음표에서도 60 FPS를 유지합니다.

### 🧪 測試覆蓋率大幅提升
**繁中**：`midi_file_player.py` 測試覆蓋率從 33% 提升至 94%，核心模組平均覆蓋率達 85%，確保軟體穩定性。

**English**: Test coverage for `midi_file_player.py` increased from 33% to 94%. Core modules now average 85% coverage, ensuring software stability.

**日本語**: `midi_file_player.py` のテストカバレッジを 33% から 94% に向上。コアモジュールの平均カバレッジは 85% に達し、ソフトウェアの安定性を確保。

**한국어**: `midi_file_player.py`의 테스트 커버리지를 33%에서 94%로 증가시켰습니다. 핵심 모듈의 평균 커버리지는 85%에 달하여 소프트웨어 안정성을 보장합니다.

### 🎹 88-key 編輯器重新設計
**繁中**：MIDI 編輯器擴展至完整 88 鍵範圍，並標示遊戲可用區域（燕雲 36 鍵 / FF14 37 鍵），方便編曲時視覺化音域範圍。

**English**: MIDI editor expanded to full 88-key range with highlighted playable zones (WWM 36-key / FF14 37-key) for better visualization during composition.

**日本語**: MIDI エディターを完全な 88 鍵の範囲に拡張し、ゲームで使用可能な範囲（燕雲 36 鍵 / FF14 37 鍵）をハイライト表示。作曲時の音域の可視化を改善。

**한국어**: MIDI 편집기를 전체 88건 범위로 확장하고 게임 사용 가능 영역(WWM 36건 / FF14 37건)을 강조 표시하여 작곡 시 음역 시각화를 개선했습니다.

---

## 🐛 修復與改進 | Bug Fixes | バグ修正 | 버그 수정

### 平台相容性修復
**繁中**：
- 修復 macOS/Linux 測試環境的 `_SendInput` 呼叫錯誤
- 新增平台檢查防止非 Windows 系統崩潰
- Windows-only 測試在 Unix 平台自動跳過

**English**:
- Fixed `_SendInput` call errors in macOS/Linux test environments
- Added platform guards to prevent crashes on non-Windows systems
- Windows-only tests automatically skipped on Unix platforms

**日本語**:
- macOS/Linux テスト環境での `_SendInput` 呼び出しエラーを修正
- 非 Windows システムでのクラッシュを防ぐプラットフォームチェックを追加
- Unix プラットフォームでは Windows 専用テストを自動スキップ

**한국어**:
- macOS/Linux 테스트 환경에서 `_SendInput` 호출 오류 수정
- Windows가 아닌 시스템에서 충돌을 방지하기 위한 플랫폼 가드 추가
- Unix 플랫폼에서 Windows 전용 테스트 자동 건너뛰기

### 程式碼品質提升
**繁中**：
- 通過 MyPy strict mode 類型檢查
- Ruff 格式化與 linting 規則全面合規
- 移除未使用的 type: ignore 註解

**English**:
- Passed MyPy strict mode type checking
- Full compliance with Ruff formatting and linting rules
- Removed unused type: ignore comments

**日本語**:
- MyPy strict mode の型チェックに合格
- Ruff のフォーマットと linting ルールに完全準拠
- 未使用の type: ignore コメントを削除

**한국어**:
- MyPy strict mode 타입 검사 통과
- Ruff 포맷팅 및 린팅 규칙 완전 준수
- 사용하지 않는 type: ignore 주석 제거

---

## 📦 安裝須知 | Installation Note | インストール時の注意 | 설치 시 주의사항

### 繁體中文
**請使用 7-Zip 解壓縮。**
Windows 內建解壓工具可能無法正確處理 Unicode 路徑，導致程式啟動失敗。

**系統需求**：
- Windows 10/11 (64-bit)
- MIDI 輸入裝置（電子琴、MIDI 控制器等）
- 支援遊戲：燕雲十六聲 / Final Fantasy XIV

### English
**Please use 7-Zip for extraction.**
Windows built-in extraction tools may not correctly handle Unicode paths, leading to application startup failure.

**System Requirements**:
- Windows 10/11 (64-bit)
- MIDI input device (keyboard, MIDI controller, etc.)
- Supported games: Where Winds Meet / Final Fantasy XIV

### 日本語
**展開には 7-Zip を使用してください。**
Windows 標準の展開ツールでは Unicode パスが正しく処理されず、プログラムの起動に失敗する可能性があります。

**システム要件**：
- Windows 10/11 (64-bit)
- MIDI 入力デバイス（キーボード、MIDI コントローラーなど）
- 対応ゲーム：燕雲十六聲 / Final Fantasy XIV

### 한국어
**압축 해제 시 7-Zip을 사용해 주세요.**
Windows 기본 압축 해제 도구는 유니코드 경로를 제대로 처리하지 못해 프로그램 실행이 실패할 수 있습니다.

**시스템 요구 사항**:
- Windows 10/11 (64-bit)
- MIDI 입력 장치(키보드, MIDI 컨트롤러 등)
- 지원 게임: Where Winds Meet / Final Fantasy XIV

---

## ⚖️ 免責聲明 | Disclaimer | 免責事項 | 면책 조항

### 繁體中文
本工具為開源個人專案，供 MIDI 音樂演奏愛好者交流學習使用。
在遊戲中使用第三方工具可能不符合該遊戲之服務條款，請使用者自行評估風險。
開發者不對因使用本工具導致的帳號處分或任何損失承擔責任。
**下載或執行本程式即表示您理解並接受上述事項。**

### English
This tool is an open-source personal project for MIDI music performance enthusiasts.
Using third-party tools in games may violate the game's Terms of Service. Please use at your own risk.
The developer is not responsible for any account penalties or losses resulting from the use of this tool.
**Downloading or executing this program constitutes your understanding and acceptance of these terms.**

### 日本語
本ツールは MIDI 演奏愛好家の学習・交流を目的としたオープンソースの個人プロジェクトです。
ゲーム内でのサードパーティ製ツールの使用は、当該ゲームの利用規約に抵触する恐れがあります。利用のリスクはユーザー自身が判断してください。
本ツールの使用によるアカウントの処罰やいかなる損失についても、開発者は一切の責任を負いません。
**本プログラムをダウンロードまたは実行した時点で、上記の内容を理解し承諾したものとみなされます。**

### 한국어
본 도구는 MIDI 연주 애호가들의 교류와 학습을 위한 오픈 소스 개인 프로젝트입니다.
게임 내에서 서드파티 도구를 사용하는 것은 해당 게임의 이용 약관에 위배될 수 있습니다. 사용에 따른 리스크는 사용자가 직접 판단하시기 바랍니다.
개발자는 본 도구 사용으로 인한 계정 제재 및 어떠한 손해에 대해서도 책임을 지지 않습니다.
**본 프로그램을 다운로드하거나 실행하는 것은 위의 사항을 이해하고 수락함을 의미합니다.**

---

## 🔗 支援與資源 | Support & Resources

- **GitHub**: https://github.com/EdmondVirelle/cyber-qin
- **贊助 | Donate**: https://ko-fi.com/virelleedmond
- **問題回報 | Issues**: https://github.com/EdmondVirelle/cyber-qin/issues

---

**完整更新日誌**：查看 [RELEASE.txt](https://github.com/EdmondVirelle/cyber-qin/blob/main/RELEASE.txt)
**Full Changelog**: See [RELEASE.txt](https://github.com/EdmondVirelle/cyber-qin/blob/main/RELEASE.txt)
